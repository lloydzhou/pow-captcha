(function(){const n=3e4;const t=document.getElementsByTagName("script");const o=t[t.length-1];const e=new URL(o.src).origin;const c=window.POW=function(t={}){const o=t.endpoint||e;const c=document.createElement("iframe");let i=null;let a=null;return new Promise(((e,u)=>{i=function(n){if(n.data.type==="pow"&&n.source===c.contentWindow){e(n.data.token)}};a=setTimeout((()=>{u(new Error("POW timeout"))}),t.timeout||n);window.addEventListener("message",i);c.src=o+"/challenge";c.style.display="none";document.body.appendChild(c)})).finally((()=>{document.body.removeChild(c);if(i){window.removeEventListener("message",i)}if(a){clearTimeout(a)}}))};function i(n,...t){if(n&&typeof window[n]==="function"){try{return window[n](...t)}catch(t){console.error('POW Captcha: Error executing callback function "'+n+'".',t)}}else if(n){console.warn('POW Captcha: Callback function "'+n+'" not found or not a function.')}}const a=function(t,o={}){const e="data-pow-initialized";if(t.getAttribute(e)==="true"){console.warn("POW Captcha: This element has already been initialized.");return}const a=document.createElement("input");a.type="hidden";a.name="pow-captcha-token";t.appendChild(a);const u=t.dataset;if(u.timeout){const t=parseInt(u.timeout,n);if(!isNaN(t)&&t>0){o.timeout=t}}if(u.endpoint){o.endpoint=u.endpoint}t.setAttribute(e,"true");c(o).then((n=>{a.value=n;i(u.t,n)})).catch((n=>{i(u.o,n)}))};function u(){const n=document.querySelectorAll(".pow-captcha");n.forEach(a)}window.POW["render"]=a;if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",u)}else{u()}})();
